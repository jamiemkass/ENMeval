<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Iterate tuning of ENMs — tune.enm • ENMeval</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Iterate tuning of ENMs — tune.enm" />
<meta property="og:description" content="Internal functions to tune and summarize results for ecological niche models (ENMs) iteratively across a range of user-specified tuning settings. 
See ENMevaluate for descriptions of shared arguments.
Function tune.parallel() tunes ENMs with parallelization. Function cv.enm() calculates training and validation evaluation statistics for one set of specified tuning parameters.
Validation CBI is calculated here with background values, not raster data, in order
to standardize the methodology for both training and validation data for spatial partitions, as ENMeval
does not mask rasters to partition areas and hence does not have partitioned raster data. Further, 
predictions for occurrence and background localities are combined as input for the parameter &quot;fit&quot; in 
ecospat::ecospat_boyce() because the interval is determined from &quot;fit&quot; only, and if test occurrences 
all have higher predictions than the background, the interval will be cut short." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ENMeval</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/ENMeval-2.0.0-vignette.html">ENMeval 2.0.0 Vignette</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Iterate tuning of ENMs</h1>
    
    <div class="hidden name"><code>tune.enm.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Internal functions to tune and summarize results for ecological niche models (ENMs) iteratively across a range of user-specified tuning settings. 
See <a href='ENMevaluate.html'>ENMevaluate</a> for descriptions of shared arguments.
Function <code>tune.parallel()</code> tunes ENMs with parallelization. Function <code>cv.enm()</code> calculates training and validation evaluation statistics for one set of specified tuning parameters.</p>
<p>Validation CBI is calculated here with background values, not raster data, in order
to standardize the methodology for both training and validation data for spatial partitions, as ENMeval
does not mask rasters to partition areas and hence does not have partitioned raster data. Further, 
predictions for occurrence and background localities are combined as input for the parameter "fit" in 
<code>ecospat::ecospat_boyce()</code> because the interval is determined from "fit" only, and if test occurrences 
all have higher predictions than the background, the interval will be cut short.</p>
    </div>

    <pre class="usage"><span class='fu'>tune.train</span><span class='op'>(</span>
  <span class='va'>enm</span>,
  <span class='va'>occs.z</span>,
  <span class='va'>bg.z</span>,
  <span class='va'>mod.full</span>,
  <span class='va'>envs</span>,
  <span class='va'>tune.tbl.i</span>,
  <span class='va'>other.settings</span>,
  <span class='va'>partitions</span>,
  <span class='va'>quiet</span>
<span class='op'>)</span>

<span class='fu'>tune.validate</span><span class='op'>(</span>
  <span class='va'>enm</span>,
  <span class='va'>occs.train.z</span>,
  <span class='va'>occs.val.z</span>,
  <span class='va'>bg.train.z</span>,
  <span class='va'>bg.val.z</span>,
  <span class='va'>mod.k</span>,
  <span class='va'>nk</span>,
  <span class='va'>tune.tbl.i</span>,
  <span class='va'>other.settings</span>,
  <span class='va'>partitions</span>,
  <span class='va'>user.eval</span>,
  <span class='va'>quiet</span>
<span class='op'>)</span>

<span class='fu'>tune.parallel</span><span class='op'>(</span>
  <span class='va'>d</span>,
  <span class='va'>envs</span>,
  <span class='va'>enm</span>,
  <span class='va'>partitions</span>,
  <span class='va'>tune.tbl</span>,
  <span class='va'>other.settings</span>,
  <span class='va'>partition.settings</span>,
  <span class='va'>user.val.grps</span>,
  <span class='va'>occs.testing.z</span>,
  <span class='va'>numCores</span>,
  <span class='va'>parallelType</span>,
  <span class='va'>user.eval</span>,
  <span class='va'>quiet</span>
<span class='op'>)</span>

<span class='fu'>tune.regular</span><span class='op'>(</span>
  <span class='va'>d</span>,
  <span class='va'>envs</span>,
  <span class='va'>enm</span>,
  <span class='va'>partitions</span>,
  <span class='va'>tune.tbl</span>,
  <span class='va'>other.settings</span>,
  <span class='va'>partition.settings</span>,
  <span class='va'>user.val.grps</span>,
  <span class='va'>occs.testing.z</span>,
  <span class='va'>updateProgress</span>,
  <span class='va'>user.eval</span>,
  <span class='va'>quiet</span>
<span class='op'>)</span>

<span class='fu'>cv.enm</span><span class='op'>(</span>
  <span class='va'>d</span>,
  <span class='va'>envs</span>,
  <span class='va'>enm</span>,
  <span class='va'>partitions</span>,
  <span class='va'>tune.tbl.i</span>,
  <span class='va'>other.settings</span>,
  <span class='va'>partition.settings</span>,
  <span class='va'>user.val.grps</span>,
  <span class='va'>occs.testing.z</span>,
  <span class='va'>user.eval</span>,
  <span class='va'>quiet</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>enm</th>
      <td><p><a href='ENMdetails-class.html'>ENMdetails</a> object</p></td>
    </tr>
    <tr>
      <th>occs.z</th>
      <td><p>data.frame: the envs values for the coordinates at the full dataset occurrence records</p></td>
    </tr>
    <tr>
      <th>bg.z</th>
      <td><p>data.frame: the envs values for the coordinates at the full dataset background records</p></td>
    </tr>
    <tr>
      <th>mod.full</th>
      <td><p>model object: the model trained on the full dataset</p></td>
    </tr>
    <tr>
      <th>envs</th>
      <td><p>RasterStack: environmental predictor variables. These should be in same geographic projection as occurrence data.</p></td>
    </tr>
    <tr>
      <th>tune.tbl.i</th>
      <td><p>vector: single set of tuning parameters</p></td>
    </tr>
    <tr>
      <th>other.settings</th>
      <td><p>named list: used to specify extra settings for the analysis. 
All of these settings have internal defaults, so if they are not specified the analysis will be run 
with default settings. See Details for descriptions of these settings.</p></td>
    </tr>
    <tr>
      <th>partitions</th>
      <td><p>character: name of partitioning technique (see <code><a href='partitions.html'>?partitions</a></code>)</p></td>
    </tr>
    <tr>
      <th>quiet</th>
      <td><p>boolean: if TRUE, silence all function messages (but not errors).</p></td>
    </tr>
    <tr>
      <th>occs.train.z</th>
      <td><p>data.frame: the envs values for the coordinates at the training occurrence records</p></td>
    </tr>
    <tr>
      <th>occs.val.z</th>
      <td><p>data.frame: the envs values for the coordinates at the validation occurrence records</p></td>
    </tr>
    <tr>
      <th>bg.train.z</th>
      <td><p>data.frame: the envs values for the coordinates at the training background records</p></td>
    </tr>
    <tr>
      <th>bg.val.z</th>
      <td><p>data.frame: the envs values for the coordinates at the validation background records</p></td>
    </tr>
    <tr>
      <th>mod.k</th>
      <td><p>model object: the model trained on the training dataset that becomes evaluated on the validation data</p></td>
    </tr>
    <tr>
      <th>nk</th>
      <td><p>numeric: the number of folds (i.e., partitions) -- will be equal to <code>kfolds</code> for random partitions</p></td>
    </tr>
    <tr>
      <th>user.eval</th>
      <td><p>function: custom function for specifying performance metrics not included in <span class="pkg">ENMeval</span>.
The function must first be defined and then input as the argument <code>user.eval</code>. 
This function should have a single argument called <code>vars</code>, which is a list that includes different data 
that can be used to calculate the metric. See Details below and the vignette for a worked example.</p></td>
    </tr>
    <tr>
      <th>d</th>
      <td><p>data frame: data frame from <code><a href='ENMevaluate.html'>ENMevaluate()</a></code> with occurrence and background coordinates (or coordinates plus predictor variable values) and partition group values</p></td>
    </tr>
    <tr>
      <th>tune.tbl</th>
      <td><p>data frame: all combinations of tuning parameters</p></td>
    </tr>
    <tr>
      <th>partition.settings</th>
      <td><p>named list: used to specify certain settings for partitioning schema.
See Details and ?partitions for descriptions of these settings.</p></td>
    </tr>
    <tr>
      <th>user.val.grps</th>
      <td><p>matrix / data frame: user-defined validation record coordinates and predictor variable values. 
This is used internally by <code><a href='ENMnulls.html'>ENMnulls()</a></code> to force each null model to evaluate with empirical validation data,
and does not have any current use when running <code><a href='ENMevaluate.html'>ENMevaluate()</a></code> independently.</p></td>
    </tr>
    <tr>
      <th>occs.testing.z</th>
      <td><p>data.frame: when fully withheld testing data is provided, the envs values for the 
coordinates at the testing occurrence records</p></td>
    </tr>
    <tr>
      <th>numCores</th>
      <td><p>numeric: number of cores to use for parallel processing. If NULL, all available cores will be used.</p></td>
    </tr>
    <tr>
      <th>parallelType</th>
      <td><p>character: either "doParallel" or "doSNOW" (default: "doSNOW") .</p></td>
    </tr>
    <tr>
      <th>updateProgress</th>
      <td><p>boolean: if TRUE, use shiny progress bar. This is only for use in shiny apps.</p></td>
    </tr>
    </table>


  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Jamie M. Kass, Robert Muscarella, Peter J. Galante, Corentin Bohl, Gonzalo E. Buitrago-Pinilla, Robert A. Boria, Mariano Soley-Guardia, Robert P. Anderson.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


