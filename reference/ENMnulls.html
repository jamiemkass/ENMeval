<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Generate null ecological niche models (ENMs) and compare null with empirical performance metrics — ENMnulls • ENMeval</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Generate null ecological niche models (ENMs) and compare null with empirical performance metrics — ENMnulls"><meta name="description" content="ENMnulls() iteratively builds null ENMs for a single set
of user-specified model settings based on an input ENMevaluation object,
from which all other analysis settings are extracted. Summary statistics of
the performance metrics for the null ENMs are taken (averages and standard
deviations) and effect sizes and p-values are calculated by comparing
these summary statistics to the empirical values of the performance metrics
(i.e., from the model built with the empirical data). See the references
below for more details on this method."><meta property="og:description" content="ENMnulls() iteratively builds null ENMs for a single set
of user-specified model settings based on an input ENMevaluation object,
from which all other analysis settings are extracted. Summary statistics of
the performance metrics for the null ENMs are taken (averages and standard
deviations) and effect sizes and p-values are calculated by comparing
these summary statistics to the empirical values of the performance metrics
(i.e., from the model built with the empirical data). See the references
below for more details on this method."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ENMeval</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.0.5.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/ENMeval-2.0-vignette.html">ENMeval 2.0.5 Vignette</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Generate null ecological niche models (ENMs) and compare null with empirical performance metrics</h1>

      <div class="d-none name"><code>ENMnulls.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>ENMnulls()</code> iteratively builds null ENMs for a single set
of user-specified model settings based on an input ENMevaluation object,
from which all other analysis settings are extracted. Summary statistics of
the performance metrics for the null ENMs are taken (averages and standard
deviations) and effect sizes and <em>p</em>-values are calculated by comparing
these summary statistics to the empirical values of the performance metrics
(i.e., from the model built with the empirical data). See the references
below for more details on this method.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">ENMnulls</span><span class="op">(</span></span>
<span>  <span class="va">e</span>,</span>
<span>  <span class="va">mod.settings</span>,</span>
<span>  <span class="va">no.iter</span>,</span>
<span>  eval.stats <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"auc.val"</span>, <span class="st">"auc.diff"</span>, <span class="st">"cbi.val"</span>, <span class="st">"or.mtp"</span>, <span class="st">"or.10p"</span><span class="op">)</span>,</span>
<span>  user.enm <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  user.eval <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  user.eval.type <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  userStats.signs <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  removeMxTemp <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  parallel <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  numCores <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  quiet <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-e">e<a class="anchor" aria-label="anchor" href="#arg-e"></a></dt>
<dd><p>ENMevaluation object</p></dd>


<dt id="arg-mod-settings">mod.settings<a class="anchor" aria-label="anchor" href="#arg-mod-settings"></a></dt>
<dd><p>named list: one set of model settings with which to
build null ENMs.</p></dd>


<dt id="arg-no-iter">no.iter<a class="anchor" aria-label="anchor" href="#arg-no-iter"></a></dt>
<dd><p>numeric: number of null model iterations.</p></dd>


<dt id="arg-eval-stats">eval.stats<a class="anchor" aria-label="anchor" href="#arg-eval-stats"></a></dt>
<dd><p>character vector: the performance metrics that will be
used to calculate null model statistics.</p></dd>


<dt id="arg-user-enm">user.enm<a class="anchor" aria-label="anchor" href="#arg-user-enm"></a></dt>
<dd><p>ENMdetails object: if implementing a user-specified model.</p></dd>


<dt id="arg-user-eval">user.eval<a class="anchor" aria-label="anchor" href="#arg-user-eval"></a></dt>
<dd><p>function: custom function for specifying performance metrics
not included in <span class="pkg">ENMeval</span>.
The function must first be defined and then input as the argument
<code>user.eval</code>.</p></dd>


<dt id="arg-user-eval-type">user.eval.type<a class="anchor" aria-label="anchor" href="#arg-user-eval-type"></a></dt>
<dd><p>character: if implementing a user-specified model,
specify here which evaluation type to use – either "knonspatial",
"kspatial", "testing", or "none".</p></dd>


<dt id="arg-userstats-signs">userStats.signs<a class="anchor" aria-label="anchor" href="#arg-userstats-signs"></a></dt>
<dd><p>named list: user-defined evaluation statistics
attributed with either 1 or -1 to designate whether the expected difference
between empirical and null models is positive or negative; this is used to
calculate the p-value of the z-score. For example, for AUC, the difference
should be positive (the empirical model should have a higher score), whereas
for omission rate it should be negative (the empirical model should have a
lower score).</p></dd>


<dt id="arg-removemxtemp">removeMxTemp<a class="anchor" aria-label="anchor" href="#arg-removemxtemp"></a></dt>
<dd><p>boolean: if TRUE, delete all temporary data generated
when using maxent.jar for modeling.</p></dd>


<dt id="arg-parallel">parallel<a class="anchor" aria-label="anchor" href="#arg-parallel"></a></dt>
<dd><p>boolean: if TRUE, use parallel processing.</p></dd>


<dt id="arg-numcores">numCores<a class="anchor" aria-label="anchor" href="#arg-numcores"></a></dt>
<dd><p>numeric: number of cores to use for parallel processing;
if NULL, all available cores will be used.</p></dd>


<dt id="arg-quiet">quiet<a class="anchor" aria-label="anchor" href="#arg-quiet"></a></dt>
<dd><p>boolean: if TRUE, silence all function messages
(but not errors).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An <code>ENMnull</code> object with slots containing evaluation summary
statistics for the null models and their cross-validation results, as well
as differences in results between the empirical and null models.
This comparison table includes z-scores of these differences and their
associated p-values (under a normal distribution). See ?ENMnull for more
details.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This null ENM technique is based on the implementation in Bohl
<em>et al.</em> (2019), which follows the original methodology of Raes &amp; ter
Steege (2007) but makes an important modification: instead of evaluating
each null model on random validation data, here we evaluate the null models
on the same withheld validation data used to evaluate the empirical model.
Bohl <em>et al.</em> (2019) demonstrates this approach using a single defined
withheld partition group, but Kass <em>et al.</em> (2020) extended it to use
spatial partitions by drawing null occurrences from the area of the predictor
raster data defining each partition. Please see the vignette for a brief
example.</p>
<p>This function avoids using raster data to speed up each iteration, and
instead samples null occurrences from the partitioned background records.
Thus, you should avoid running this when your background records are not well
sampled across the study extent, as this limits the extent that null
occurrences can be sampled from.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Bohl, C. L., Kass, J. M., &amp; Anderson, R. P. (2019). A new null model approach
to quantify performance and significance for ecological niche models of
species distributions. <em>Journal of Biogeography</em>, <b>46</b>: 1101-1111.
<a href="https://doi.org/10.1111/jbi.13573" class="external-link">doi:10.1111/jbi.13573</a></p>
<p>Kass, J. M., Anderson, R. P., Espinosa-Lucas, A., Juarez-Jaimes, V.,
Martinez-Salas, E., Botello, F.,  Tavera, G., Flores-Martinez, J. J., &amp;
Sanchez-Cordero, V. (2020). Biotic predictors with phenological information
improve range estimates for migrating monarch butterflies in Mexico.
<em>Ecography</em>, <b>43</b>: 341-352. <a href="https://doi.org/10.1111/ecog.04886" class="external-link">doi:10.1111/ecog.04886</a></p>
<p>Raes, N., &amp; ter Steege, H. (2007). A null-model for significance testing of
presence-only species distribution models. <em>Ecography</em>, <b>30</b>:
727-736. <a href="https://doi.org/10.1111/j.2007.0906-7590.05041.x" class="external-link">doi:10.1111/j.2007.0906-7590.05041.x</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://jamiemkass.github.io/ENMeval/">ENMeval</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># first, let's tune some models</span></span></span>
<span class="r-in"><span><span class="va">occs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span>package<span class="op">=</span><span class="st">"predicts"</span><span class="op">)</span>, </span></span>
<span class="r-in"><span><span class="st">"/ex/bradypus.csv"</span><span class="op">)</span><span class="op">)</span><span class="op">[</span>,<span class="fl">2</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="va">envs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rspatial.github.io/terra/reference/rast.html" class="external-link">rast</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a></span><span class="op">(</span>path<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span>package<span class="op">=</span><span class="st">"predicts"</span><span class="op">)</span>, </span></span>
<span class="r-in"><span>                                   <span class="st">"/ex"</span>, sep<span class="op">=</span><span class="st">""</span><span class="op">)</span>, pattern<span class="op">=</span><span class="st">"tif$"</span>, </span></span>
<span class="r-in"><span>                                   full.names<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">bg</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rspatial.github.io/terra/reference/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="fu">predicts</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/predicts/man/backgroundSample.html" class="external-link">backgroundSample</a></span><span class="op">(</span><span class="va">envs</span>, n <span class="op">=</span> <span class="fl">10000</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rspatial.github.io/terra/reference/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">bg</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rspatial.github.io/terra/reference/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">occs</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">ps</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>orientation <span class="op">=</span> <span class="st">"lat_lat"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># as an example, let's use two user-specified evaluation metrics</span></span></span>
<span class="r-in"><span><span class="va">conf.and.cons</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">vars</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">observations</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">1</span>, times <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">vars</span><span class="op">$</span><span class="va">occs.train.pred</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">0</span>, times <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">vars</span><span class="op">$</span><span class="va">bg.train.pred</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">1</span>, times <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">vars</span><span class="op">$</span><span class="va">occs.val.pred</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">0</span>, times <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">vars</span><span class="op">$</span><span class="va">bg.val.pred</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">predictions</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">vars</span><span class="op">$</span><span class="va">occs.train.pred</span>, <span class="va">vars</span><span class="op">$</span><span class="va">bg.train.pred</span>, </span></span>
<span class="r-in"><span>  <span class="va">vars</span><span class="op">$</span><span class="va">occs.val.pred</span>, <span class="va">vars</span><span class="op">$</span><span class="va">bg.val.pred</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">evaluation_mask</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span>x <span class="op">=</span> <span class="cn">FALSE</span>, times <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">vars</span><span class="op">$</span><span class="va">occs.train.pred</span><span class="op">)</span> <span class="op">+</span> </span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">vars</span><span class="op">$</span><span class="va">bg.train.pred</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span>x <span class="op">=</span> <span class="cn">TRUE</span>, times <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">vars</span><span class="op">$</span><span class="va">occs.val.pred</span><span class="op">)</span> <span class="op">+</span> </span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">vars</span><span class="op">$</span><span class="va">bg.val.pred</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">measures</span> <span class="op">&lt;-</span> <span class="fu">confcons</span><span class="fu">::</span><span class="fu">measures</span><span class="op">(</span>observations <span class="op">=</span> <span class="va">observations</span>, </span></span>
<span class="r-in"><span>  predictions <span class="op">=</span> <span class="va">predictions</span>, </span></span>
<span class="r-in"><span>  evaluation_mask <span class="op">=</span> <span class="va">evaluation_mask</span>, df <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">measures.metrics</span> <span class="op">&lt;-</span> <span class="va">measures</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"CPP_eval"</span>, <span class="st">"DCPP"</span><span class="op">)</span><span class="op">]</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">measures.metrics</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"confidence"</span>, <span class="st">"consistency"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">measures.metrics</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">e</span> <span class="op">&lt;-</span> <span class="fu"><a href="ENMevaluate.html">ENMevaluate</a></span><span class="op">(</span><span class="va">occs</span>, <span class="va">envs</span>, <span class="va">bg</span>, </span></span>
<span class="r-in"><span>                 tune.args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>fc <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"L"</span>,<span class="st">"LQ"</span>,<span class="st">"LQH"</span><span class="op">)</span>, rm <span class="op">=</span> <span class="fl">2</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span>, </span></span>
<span class="r-in"><span>                 partitions <span class="op">=</span> <span class="st">"block"</span>, partition.settings <span class="op">=</span> <span class="va">ps</span>, </span></span>
<span class="r-in"><span>                 algorithm <span class="op">=</span> <span class="st">"maxnet"</span>, categoricals <span class="op">=</span> <span class="st">"biome"</span>,</span></span>
<span class="r-in"><span>                 user.eval  <span class="op">=</span> <span class="va">conf.and.cons</span>, parallel <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">d</span> <span class="op">&lt;-</span> <span class="fu"><a href="eval.results.html">eval.results</a></span><span class="op">(</span><span class="va">e</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># here, we will choose an optimal model based on validation CBI, but you can</span></span></span>
<span class="r-in"><span><span class="co"># choose yourself what evaluation statistics to use</span></span></span>
<span class="r-in"><span><span class="va">opt</span> <span class="op">&lt;-</span> <span class="va">d</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">cbi.val.avg</span> <span class="op">==</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">cbi.val.avg</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># now we can run our null models, and we can specify to include estimates for</span></span></span>
<span class="r-in"><span><span class="co"># our user-specified variables too, but we need to make sure we note what </span></span></span>
<span class="r-in"><span><span class="co"># sign we expect these statistics to be </span></span></span>
<span class="r-in"><span><span class="co"># NOTE: you should use at least 100 iterations in practice -- this is just an</span></span></span>
<span class="r-in"><span><span class="co"># example</span></span></span>
<span class="r-in"><span><span class="va">nulls</span> <span class="op">&lt;-</span> <span class="fu">ENMnulls</span><span class="op">(</span><span class="va">e</span>, </span></span>
<span class="r-in"><span>                  mod.settings <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>fc <span class="op">=</span> <span class="va">opt</span><span class="op">$</span><span class="va">fc</span>, rm <span class="op">=</span> <span class="va">opt</span><span class="op">$</span><span class="va">rm</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                  no.iter <span class="op">=</span> <span class="fl">10</span>, </span></span>
<span class="r-in"><span>                  user.eval <span class="op">=</span> <span class="va">conf.and.cons</span>,</span></span>
<span class="r-in"><span>                  eval.stats <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"cbi.val"</span>, <span class="st">"confidence"</span>, <span class="st">"consistency"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                  userStats.signs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"confidence"</span> <span class="op">=</span> <span class="fl">1</span>, <span class="st">"consistency"</span> <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># here are the results of all the null iterations</span></span></span>
<span class="r-in"><span><span class="fu"><a href="null.results.html">null.results</a></span><span class="op">(</span><span class="va">nulls</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># and here are the comparisons between the null and empirical values for</span></span></span>
<span class="r-in"><span><span class="co"># the evaluation statistics, including the z-score and p-value</span></span></span>
<span class="r-in"><span><span class="co"># for more details, see Bohl et al. 2019</span></span></span>
<span class="r-in"><span><span class="fu"><a href="null.emp.results.html">null.emp.results</a></span><span class="op">(</span><span class="va">nulls</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jamie M. Kass, Robert Muscarella, Peter J. Galante, Corentin Bohl, Gonzalo E. Buitrago-Pinilla, Robert A. Boria, Mariano Soley-Guardia, Robert P. Anderson.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer></div>





  </body></html>

